-- GUI لموبايل أندرويد، زر واحد يكلبش اللاعبين ويرميهم بعيد

local player = game.Players.LocalPlayer

local gui = Instance.new("ScreenGui", game.CoreGui)
gui.Name = "CuffAllGUI"

-- زر واجهة
local btn = Instance.new("TextButton", gui)
btn.Size = UDim2.new(0, 200, 0, 50)
btn.Position = UDim2.new(0, 10, 0, 100)
btn.Text = "كلبش الكل + طيرهم"
btn.BackgroundColor3 = Color3.fromRGB(255, 85, 0)
btn.TextColor3 = Color3.fromRGB(255, 255, 255)
btn.Font = Enum.Font.SourceSansBold
btn.TextScaled = true
btn.BorderSizePixel = 0

btn.MouseButton1Click:Connect(function()
    local character = player.Character or player.CharacterAdded:Wait()
    local tool = character:FindFirstChildOfClass("Tool") or player.Backpack:FindFirstChildOfClass("Tool")

    if not tool then
        warn("ماكو أداة كلبشة بيدك!")
        btn.Text = "ماكو كلبشة!"
        return
    end

    local remote = tool:FindFirstChild("CuffPlayer") or tool:FindFirstChild("RemoteEvent") or tool:FindFirstChildWhichIsA("RemoteEvent")

    if not remote then
        warn("ما لقيت RemoteEvent داخل الكلبشة.")
        btn.Text = "ماكو Remote!"
        return
    end

    btn.Text = "جاري الكلبشة..."

    for _, target in pairs(game.Players:GetPlayers()) do
        if target ~= player and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
            -- كلبشة (إذا مسموح)
            pcall(function()
                remote:FireServer(target.Character)
            end)

            -- رمي اللاعب فوق
            pcall(function()
                target.Character.HumanoidRootPart.CFrame = CFrame.new(0, 1000, 0)
            end)

            wait(1.2)
        end
    end

    btn.Text = "اكتملت الكلبشة!"
end)
